<div class="camera-container">
  <!-- Vista principal de la cÃ¡mara o imagen seleccionada -->
  <div class="main-image-container">
    @if (selectedImage) {
      <img [src]="selectedImage" alt="Imagen seleccionada" class="captured-image">
    } @else if (imgUrl) {
      <img [src]="imgUrl" alt="Ãšltima foto capturada" class="captured-image">
    } @else {
      <div class="placeholder">
        <span class="placeholder-icon">ğŸ“·</span>
        <span class="placeholder-text">No hay imagen seleccionada</span>
      </div>
    }
  </div>

  <!-- Botones de acciÃ³n -->
  <div class="actions-container">
    <button (click)="takePicture()" class="take-picture-button" [disabled]="loading">
      ğŸ“· Tomar Foto
    </button>
    
    <button (click)="loadFromGallery()" class="load-gallery-button" [disabled]="loading">
      ğŸ“ Cargar ImÃ¡genes
    </button>
    
    @if (imageGallery.length > 0) {
      <button (click)="clearGallery()" class="clear-gallery-button">
        ğŸ—‘ï¸ Limpiar GalerÃ­a
      </button>
    }
  </div>

  <!-- Spinner de carga -->
  @if (loading) {
    <div class="loading-spinner">âŒ›</div>
  }

  <!-- Mensaje de error -->
  @if (errorMessage) {
    <div class="error-message">
      {{ errorMessage }}
    </div>
  }

  <!-- GalerÃ­a de imÃ¡genes -->
  @if (imageGallery.length > 0) {
    <div class="gallery-section">
      <div class="gallery-title">GalerÃ­a de ImÃ¡genes ({{ imageGallery.length }})</div>
      <div class="gallery-container">
        @for (image of imageGallery; track $index; let i = $index) {
          <div class="gallery-item" [class.selected]="selectedImage === image">
            <img [src]="image" alt="Imagen {{ i + 1 }}" (click)="selectImage(image)">
            <button class="delete-image-button" (click)="deleteImage(i)">Ã—</button>
          </div>
        }
      </div>
    </div>
  }
</div>